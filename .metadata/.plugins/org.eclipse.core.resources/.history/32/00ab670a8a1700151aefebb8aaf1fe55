package task2.solutions;

import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

import task0.solutions.BinarySearch;

public class BirthadyRanges {
	//rewrite with binary search
	public static List<Integer> countBirthdays(List<Integer> birthdays, List<Pair> ranges) {
		List<Integer> result = new ArrayList<Integer>();
		Collections.sort(birthdays);
		int[] bdayHistogram = new int[birthdays.size()];
		
		for (int i = 0; i < bdayHistogram.length; i++) {
			bdayHistogram[birthdays.get(i)]++;
		}
		
		for (int i = 1; i < bdayHistogram.length; i++) {
			bdayHistogram[i] += bdayHistogram[i - 1];
		}
		
		
		for (Pair pair : ranges) {
			int start = 0, end = 0;
			start = BinarySearch.binarySearch(bdayHistogram, pair.getStart(), 0, bdayHistogram.length - 1);
			end = BinarySearch.binarySearch(bdayHistogram, pair.getEnd(), 0, bdayHistogram.length - 1);
			
			result.add(end - start);
		}
		
		return result;
	}
}
